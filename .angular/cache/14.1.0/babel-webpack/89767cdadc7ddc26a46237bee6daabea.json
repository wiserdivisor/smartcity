{"ast":null,"code":"/**\n * @module ol/tilecoord\n */\n\n/**\n * An array of three numbers representing the location of a tile in a tile\n * grid. The order is `z` (zoom level), `x` (column), and `y` (row).\n * @typedef {Array<number>} TileCoord\n * @api\n */\n\n/**\n * @param {number} z Z.\n * @param {number} x X.\n * @param {number} y Y.\n * @param {TileCoord} [opt_tileCoord] Tile coordinate.\n * @return {TileCoord} Tile coordinate.\n */\nexport function createOrUpdate(z, x, y, opt_tileCoord) {\n  if (opt_tileCoord !== undefined) {\n    opt_tileCoord[0] = z;\n    opt_tileCoord[1] = x;\n    opt_tileCoord[2] = y;\n    return opt_tileCoord;\n  } else {\n    return [z, x, y];\n  }\n}\n/**\n * @param {number} z Z.\n * @param {number} x X.\n * @param {number} y Y.\n * @return {string} Key.\n */\n\nexport function getKeyZXY(z, x, y) {\n  return z + '/' + x + '/' + y;\n}\n/**\n * Get the key for a tile coord.\n * @param {TileCoord} tileCoord The tile coord.\n * @return {string} Key.\n */\n\nexport function getKey(tileCoord) {\n  return getKeyZXY(tileCoord[0], tileCoord[1], tileCoord[2]);\n}\n/**\n * Get the tile cache key for a tile key obtained through `tile.getKey()`.\n * @param {string} tileKey The tile key.\n * @return {string} The cache key.\n */\n\nexport function getCacheKeyForTileKey(tileKey) {\n  var _a = tileKey.substring(tileKey.lastIndexOf('/') + 1, tileKey.length).split(',').map(Number),\n      z = _a[0],\n      x = _a[1],\n      y = _a[2];\n\n  return getKeyZXY(z, x, y);\n}\n/**\n * Get a tile coord given a key.\n * @param {string} key The tile coord key.\n * @return {TileCoord} The tile coord.\n */\n\nexport function fromKey(key) {\n  return key.split('/').map(Number);\n}\n/**\n * @param {TileCoord} tileCoord Tile coord.\n * @return {number} Hash.\n */\n\nexport function hash(tileCoord) {\n  return (tileCoord[1] << tileCoord[0]) + tileCoord[2];\n}\n/**\n * @param {TileCoord} tileCoord Tile coordinate.\n * @param {!import(\"./tilegrid/TileGrid.js\").default} tileGrid Tile grid.\n * @return {boolean} Tile coordinate is within extent and zoom level range.\n */\n\nexport function withinExtentAndZ(tileCoord, tileGrid) {\n  var z = tileCoord[0];\n  var x = tileCoord[1];\n  var y = tileCoord[2];\n\n  if (tileGrid.getMinZoom() > z || z > tileGrid.getMaxZoom()) {\n    return false;\n  }\n\n  var tileRange = tileGrid.getFullTileRange(z);\n\n  if (!tileRange) {\n    return true;\n  } else {\n    return tileRange.containsXY(x, y);\n  }\n}","map":{"version":3,"names":["createOrUpdate","z","x","y","opt_tileCoord","undefined","getKeyZXY","getKey","tileCoord","getCacheKeyForTileKey","tileKey","_a","substring","lastIndexOf","length","split","map","Number","fromKey","key","hash","withinExtentAndZ","tileGrid","getMinZoom","getMaxZoom","tileRange","getFullTileRange","containsXY"],"sources":["/home/asura/github/smartcity/node_modules/ol/tilecoord.js"],"sourcesContent":["/**\n * @module ol/tilecoord\n */\n/**\n * An array of three numbers representing the location of a tile in a tile\n * grid. The order is `z` (zoom level), `x` (column), and `y` (row).\n * @typedef {Array<number>} TileCoord\n * @api\n */\n/**\n * @param {number} z Z.\n * @param {number} x X.\n * @param {number} y Y.\n * @param {TileCoord} [opt_tileCoord] Tile coordinate.\n * @return {TileCoord} Tile coordinate.\n */\nexport function createOrUpdate(z, x, y, opt_tileCoord) {\n    if (opt_tileCoord !== undefined) {\n        opt_tileCoord[0] = z;\n        opt_tileCoord[1] = x;\n        opt_tileCoord[2] = y;\n        return opt_tileCoord;\n    }\n    else {\n        return [z, x, y];\n    }\n}\n/**\n * @param {number} z Z.\n * @param {number} x X.\n * @param {number} y Y.\n * @return {string} Key.\n */\nexport function getKeyZXY(z, x, y) {\n    return z + '/' + x + '/' + y;\n}\n/**\n * Get the key for a tile coord.\n * @param {TileCoord} tileCoord The tile coord.\n * @return {string} Key.\n */\nexport function getKey(tileCoord) {\n    return getKeyZXY(tileCoord[0], tileCoord[1], tileCoord[2]);\n}\n/**\n * Get the tile cache key for a tile key obtained through `tile.getKey()`.\n * @param {string} tileKey The tile key.\n * @return {string} The cache key.\n */\nexport function getCacheKeyForTileKey(tileKey) {\n    var _a = tileKey\n        .substring(tileKey.lastIndexOf('/') + 1, tileKey.length)\n        .split(',')\n        .map(Number), z = _a[0], x = _a[1], y = _a[2];\n    return getKeyZXY(z, x, y);\n}\n/**\n * Get a tile coord given a key.\n * @param {string} key The tile coord key.\n * @return {TileCoord} The tile coord.\n */\nexport function fromKey(key) {\n    return key.split('/').map(Number);\n}\n/**\n * @param {TileCoord} tileCoord Tile coord.\n * @return {number} Hash.\n */\nexport function hash(tileCoord) {\n    return (tileCoord[1] << tileCoord[0]) + tileCoord[2];\n}\n/**\n * @param {TileCoord} tileCoord Tile coordinate.\n * @param {!import(\"./tilegrid/TileGrid.js\").default} tileGrid Tile grid.\n * @return {boolean} Tile coordinate is within extent and zoom level range.\n */\nexport function withinExtentAndZ(tileCoord, tileGrid) {\n    var z = tileCoord[0];\n    var x = tileCoord[1];\n    var y = tileCoord[2];\n    if (tileGrid.getMinZoom() > z || z > tileGrid.getMaxZoom()) {\n        return false;\n    }\n    var tileRange = tileGrid.getFullTileRange(z);\n    if (!tileRange) {\n        return true;\n    }\n    else {\n        return tileRange.containsXY(x, y);\n    }\n}\n"],"mappings":"AAAA;AACA;AACA;;AACA;AACA;AACA;AACA;AACA;AACA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO,SAASA,cAAT,CAAwBC,CAAxB,EAA2BC,CAA3B,EAA8BC,CAA9B,EAAiCC,aAAjC,EAAgD;EACnD,IAAIA,aAAa,KAAKC,SAAtB,EAAiC;IAC7BD,aAAa,CAAC,CAAD,CAAb,GAAmBH,CAAnB;IACAG,aAAa,CAAC,CAAD,CAAb,GAAmBF,CAAnB;IACAE,aAAa,CAAC,CAAD,CAAb,GAAmBD,CAAnB;IACA,OAAOC,aAAP;EACH,CALD,MAMK;IACD,OAAO,CAACH,CAAD,EAAIC,CAAJ,EAAOC,CAAP,CAAP;EACH;AACJ;AACD;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,SAASG,SAAT,CAAmBL,CAAnB,EAAsBC,CAAtB,EAAyBC,CAAzB,EAA4B;EAC/B,OAAOF,CAAC,GAAG,GAAJ,GAAUC,CAAV,GAAc,GAAd,GAAoBC,CAA3B;AACH;AACD;AACA;AACA;AACA;AACA;;AACA,OAAO,SAASI,MAAT,CAAgBC,SAAhB,EAA2B;EAC9B,OAAOF,SAAS,CAACE,SAAS,CAAC,CAAD,CAAV,EAAeA,SAAS,CAAC,CAAD,CAAxB,EAA6BA,SAAS,CAAC,CAAD,CAAtC,CAAhB;AACH;AACD;AACA;AACA;AACA;AACA;;AACA,OAAO,SAASC,qBAAT,CAA+BC,OAA/B,EAAwC;EAC3C,IAAIC,EAAE,GAAGD,OAAO,CACXE,SADI,CACMF,OAAO,CAACG,WAAR,CAAoB,GAApB,IAA2B,CADjC,EACoCH,OAAO,CAACI,MAD5C,EAEJC,KAFI,CAEE,GAFF,EAGJC,GAHI,CAGAC,MAHA,CAAT;EAAA,IAGkBhB,CAAC,GAAGU,EAAE,CAAC,CAAD,CAHxB;EAAA,IAG6BT,CAAC,GAAGS,EAAE,CAAC,CAAD,CAHnC;EAAA,IAGwCR,CAAC,GAAGQ,EAAE,CAAC,CAAD,CAH9C;;EAIA,OAAOL,SAAS,CAACL,CAAD,EAAIC,CAAJ,EAAOC,CAAP,CAAhB;AACH;AACD;AACA;AACA;AACA;AACA;;AACA,OAAO,SAASe,OAAT,CAAiBC,GAAjB,EAAsB;EACzB,OAAOA,GAAG,CAACJ,KAAJ,CAAU,GAAV,EAAeC,GAAf,CAAmBC,MAAnB,CAAP;AACH;AACD;AACA;AACA;AACA;;AACA,OAAO,SAASG,IAAT,CAAcZ,SAAd,EAAyB;EAC5B,OAAO,CAACA,SAAS,CAAC,CAAD,CAAT,IAAgBA,SAAS,CAAC,CAAD,CAA1B,IAAiCA,SAAS,CAAC,CAAD,CAAjD;AACH;AACD;AACA;AACA;AACA;AACA;;AACA,OAAO,SAASa,gBAAT,CAA0Bb,SAA1B,EAAqCc,QAArC,EAA+C;EAClD,IAAIrB,CAAC,GAAGO,SAAS,CAAC,CAAD,CAAjB;EACA,IAAIN,CAAC,GAAGM,SAAS,CAAC,CAAD,CAAjB;EACA,IAAIL,CAAC,GAAGK,SAAS,CAAC,CAAD,CAAjB;;EACA,IAAIc,QAAQ,CAACC,UAAT,KAAwBtB,CAAxB,IAA6BA,CAAC,GAAGqB,QAAQ,CAACE,UAAT,EAArC,EAA4D;IACxD,OAAO,KAAP;EACH;;EACD,IAAIC,SAAS,GAAGH,QAAQ,CAACI,gBAAT,CAA0BzB,CAA1B,CAAhB;;EACA,IAAI,CAACwB,SAAL,EAAgB;IACZ,OAAO,IAAP;EACH,CAFD,MAGK;IACD,OAAOA,SAAS,CAACE,UAAV,CAAqBzB,CAArB,EAAwBC,CAAxB,CAAP;EACH;AACJ"},"metadata":{},"sourceType":"module"}