{"ast":null,"code":"/**\n * @module ol/structs/PriorityQueue\n */\nimport { assert } from '../asserts.js';\nimport { clear } from '../obj.js';\n/**\n * @type {number}\n */\n\nexport var DROP = Infinity;\n/**\n * @classdesc\n * Priority queue.\n *\n * The implementation is inspired from the Closure Library's Heap class and\n * Python's heapq module.\n *\n * See https://github.com/google/closure-library/blob/master/closure/goog/structs/heap.js\n * and https://hg.python.org/cpython/file/2.7/Lib/heapq.py.\n *\n * @template T\n */\n\nvar PriorityQueue =\n/** @class */\nfunction () {\n  /**\n   * @param {function(T): number} priorityFunction Priority function.\n   * @param {function(T): string} keyFunction Key function.\n   */\n  function PriorityQueue(priorityFunction, keyFunction) {\n    /**\n     * @type {function(T): number}\n     * @private\n     */\n    this.priorityFunction_ = priorityFunction;\n    /**\n     * @type {function(T): string}\n     * @private\n     */\n\n    this.keyFunction_ = keyFunction;\n    /**\n     * @type {Array<T>}\n     * @private\n     */\n\n    this.elements_ = [];\n    /**\n     * @type {Array<number>}\n     * @private\n     */\n\n    this.priorities_ = [];\n    /**\n     * @type {!Object<string, boolean>}\n     * @private\n     */\n\n    this.queuedElements_ = {};\n  }\n  /**\n   * FIXME empty description for jsdoc\n   */\n\n\n  PriorityQueue.prototype.clear = function () {\n    this.elements_.length = 0;\n    this.priorities_.length = 0;\n    clear(this.queuedElements_);\n  };\n  /**\n   * Remove and return the highest-priority element. O(log N).\n   * @return {T} Element.\n   */\n\n\n  PriorityQueue.prototype.dequeue = function () {\n    var elements = this.elements_;\n    var priorities = this.priorities_;\n    var element = elements[0];\n\n    if (elements.length == 1) {\n      elements.length = 0;\n      priorities.length = 0;\n    } else {\n      elements[0] = elements.pop();\n      priorities[0] = priorities.pop();\n      this.siftUp_(0);\n    }\n\n    var elementKey = this.keyFunction_(element);\n    delete this.queuedElements_[elementKey];\n    return element;\n  };\n  /**\n   * Enqueue an element. O(log N).\n   * @param {T} element Element.\n   * @return {boolean} The element was added to the queue.\n   */\n\n\n  PriorityQueue.prototype.enqueue = function (element) {\n    assert(!(this.keyFunction_(element) in this.queuedElements_), 31); // Tried to enqueue an `element` that was already added to the queue\n\n    var priority = this.priorityFunction_(element);\n\n    if (priority != DROP) {\n      this.elements_.push(element);\n      this.priorities_.push(priority);\n      this.queuedElements_[this.keyFunction_(element)] = true;\n      this.siftDown_(0, this.elements_.length - 1);\n      return true;\n    }\n\n    return false;\n  };\n  /**\n   * @return {number} Count.\n   */\n\n\n  PriorityQueue.prototype.getCount = function () {\n    return this.elements_.length;\n  };\n  /**\n   * Gets the index of the left child of the node at the given index.\n   * @param {number} index The index of the node to get the left child for.\n   * @return {number} The index of the left child.\n   * @private\n   */\n\n\n  PriorityQueue.prototype.getLeftChildIndex_ = function (index) {\n    return index * 2 + 1;\n  };\n  /**\n   * Gets the index of the right child of the node at the given index.\n   * @param {number} index The index of the node to get the right child for.\n   * @return {number} The index of the right child.\n   * @private\n   */\n\n\n  PriorityQueue.prototype.getRightChildIndex_ = function (index) {\n    return index * 2 + 2;\n  };\n  /**\n   * Gets the index of the parent of the node at the given index.\n   * @param {number} index The index of the node to get the parent for.\n   * @return {number} The index of the parent.\n   * @private\n   */\n\n\n  PriorityQueue.prototype.getParentIndex_ = function (index) {\n    return index - 1 >> 1;\n  };\n  /**\n   * Make this a heap. O(N).\n   * @private\n   */\n\n\n  PriorityQueue.prototype.heapify_ = function () {\n    var i;\n\n    for (i = (this.elements_.length >> 1) - 1; i >= 0; i--) {\n      this.siftUp_(i);\n    }\n  };\n  /**\n   * @return {boolean} Is empty.\n   */\n\n\n  PriorityQueue.prototype.isEmpty = function () {\n    return this.elements_.length === 0;\n  };\n  /**\n   * @param {string} key Key.\n   * @return {boolean} Is key queued.\n   */\n\n\n  PriorityQueue.prototype.isKeyQueued = function (key) {\n    return key in this.queuedElements_;\n  };\n  /**\n   * @param {T} element Element.\n   * @return {boolean} Is queued.\n   */\n\n\n  PriorityQueue.prototype.isQueued = function (element) {\n    return this.isKeyQueued(this.keyFunction_(element));\n  };\n  /**\n   * @param {number} index The index of the node to move down.\n   * @private\n   */\n\n\n  PriorityQueue.prototype.siftUp_ = function (index) {\n    var elements = this.elements_;\n    var priorities = this.priorities_;\n    var count = elements.length;\n    var element = elements[index];\n    var priority = priorities[index];\n    var startIndex = index;\n\n    while (index < count >> 1) {\n      var lIndex = this.getLeftChildIndex_(index);\n      var rIndex = this.getRightChildIndex_(index);\n      var smallerChildIndex = rIndex < count && priorities[rIndex] < priorities[lIndex] ? rIndex : lIndex;\n      elements[index] = elements[smallerChildIndex];\n      priorities[index] = priorities[smallerChildIndex];\n      index = smallerChildIndex;\n    }\n\n    elements[index] = element;\n    priorities[index] = priority;\n    this.siftDown_(startIndex, index);\n  };\n  /**\n   * @param {number} startIndex The index of the root.\n   * @param {number} index The index of the node to move up.\n   * @private\n   */\n\n\n  PriorityQueue.prototype.siftDown_ = function (startIndex, index) {\n    var elements = this.elements_;\n    var priorities = this.priorities_;\n    var element = elements[index];\n    var priority = priorities[index];\n\n    while (index > startIndex) {\n      var parentIndex = this.getParentIndex_(index);\n\n      if (priorities[parentIndex] > priority) {\n        elements[index] = elements[parentIndex];\n        priorities[index] = priorities[parentIndex];\n        index = parentIndex;\n      } else {\n        break;\n      }\n    }\n\n    elements[index] = element;\n    priorities[index] = priority;\n  };\n  /**\n   * FIXME empty description for jsdoc\n   */\n\n\n  PriorityQueue.prototype.reprioritize = function () {\n    var priorityFunction = this.priorityFunction_;\n    var elements = this.elements_;\n    var priorities = this.priorities_;\n    var index = 0;\n    var n = elements.length;\n    var element, i, priority;\n\n    for (i = 0; i < n; ++i) {\n      element = elements[i];\n      priority = priorityFunction(element);\n\n      if (priority == DROP) {\n        delete this.queuedElements_[this.keyFunction_(element)];\n      } else {\n        priorities[index] = priority;\n        elements[index++] = element;\n      }\n    }\n\n    elements.length = index;\n    priorities.length = index;\n    this.heapify_();\n  };\n\n  return PriorityQueue;\n}();\n\nexport default PriorityQueue;","map":{"version":3,"names":["assert","clear","DROP","Infinity","PriorityQueue","priorityFunction","keyFunction","priorityFunction_","keyFunction_","elements_","priorities_","queuedElements_","prototype","length","dequeue","elements","priorities","element","pop","siftUp_","elementKey","enqueue","priority","push","siftDown_","getCount","getLeftChildIndex_","index","getRightChildIndex_","getParentIndex_","heapify_","i","isEmpty","isKeyQueued","key","isQueued","count","startIndex","lIndex","rIndex","smallerChildIndex","parentIndex","reprioritize","n"],"sources":["/home/asura/github/smartcity/node_modules/ol/structs/PriorityQueue.js"],"sourcesContent":["/**\n * @module ol/structs/PriorityQueue\n */\nimport { assert } from '../asserts.js';\nimport { clear } from '../obj.js';\n/**\n * @type {number}\n */\nexport var DROP = Infinity;\n/**\n * @classdesc\n * Priority queue.\n *\n * The implementation is inspired from the Closure Library's Heap class and\n * Python's heapq module.\n *\n * See https://github.com/google/closure-library/blob/master/closure/goog/structs/heap.js\n * and https://hg.python.org/cpython/file/2.7/Lib/heapq.py.\n *\n * @template T\n */\nvar PriorityQueue = /** @class */ (function () {\n    /**\n     * @param {function(T): number} priorityFunction Priority function.\n     * @param {function(T): string} keyFunction Key function.\n     */\n    function PriorityQueue(priorityFunction, keyFunction) {\n        /**\n         * @type {function(T): number}\n         * @private\n         */\n        this.priorityFunction_ = priorityFunction;\n        /**\n         * @type {function(T): string}\n         * @private\n         */\n        this.keyFunction_ = keyFunction;\n        /**\n         * @type {Array<T>}\n         * @private\n         */\n        this.elements_ = [];\n        /**\n         * @type {Array<number>}\n         * @private\n         */\n        this.priorities_ = [];\n        /**\n         * @type {!Object<string, boolean>}\n         * @private\n         */\n        this.queuedElements_ = {};\n    }\n    /**\n     * FIXME empty description for jsdoc\n     */\n    PriorityQueue.prototype.clear = function () {\n        this.elements_.length = 0;\n        this.priorities_.length = 0;\n        clear(this.queuedElements_);\n    };\n    /**\n     * Remove and return the highest-priority element. O(log N).\n     * @return {T} Element.\n     */\n    PriorityQueue.prototype.dequeue = function () {\n        var elements = this.elements_;\n        var priorities = this.priorities_;\n        var element = elements[0];\n        if (elements.length == 1) {\n            elements.length = 0;\n            priorities.length = 0;\n        }\n        else {\n            elements[0] = elements.pop();\n            priorities[0] = priorities.pop();\n            this.siftUp_(0);\n        }\n        var elementKey = this.keyFunction_(element);\n        delete this.queuedElements_[elementKey];\n        return element;\n    };\n    /**\n     * Enqueue an element. O(log N).\n     * @param {T} element Element.\n     * @return {boolean} The element was added to the queue.\n     */\n    PriorityQueue.prototype.enqueue = function (element) {\n        assert(!(this.keyFunction_(element) in this.queuedElements_), 31); // Tried to enqueue an `element` that was already added to the queue\n        var priority = this.priorityFunction_(element);\n        if (priority != DROP) {\n            this.elements_.push(element);\n            this.priorities_.push(priority);\n            this.queuedElements_[this.keyFunction_(element)] = true;\n            this.siftDown_(0, this.elements_.length - 1);\n            return true;\n        }\n        return false;\n    };\n    /**\n     * @return {number} Count.\n     */\n    PriorityQueue.prototype.getCount = function () {\n        return this.elements_.length;\n    };\n    /**\n     * Gets the index of the left child of the node at the given index.\n     * @param {number} index The index of the node to get the left child for.\n     * @return {number} The index of the left child.\n     * @private\n     */\n    PriorityQueue.prototype.getLeftChildIndex_ = function (index) {\n        return index * 2 + 1;\n    };\n    /**\n     * Gets the index of the right child of the node at the given index.\n     * @param {number} index The index of the node to get the right child for.\n     * @return {number} The index of the right child.\n     * @private\n     */\n    PriorityQueue.prototype.getRightChildIndex_ = function (index) {\n        return index * 2 + 2;\n    };\n    /**\n     * Gets the index of the parent of the node at the given index.\n     * @param {number} index The index of the node to get the parent for.\n     * @return {number} The index of the parent.\n     * @private\n     */\n    PriorityQueue.prototype.getParentIndex_ = function (index) {\n        return (index - 1) >> 1;\n    };\n    /**\n     * Make this a heap. O(N).\n     * @private\n     */\n    PriorityQueue.prototype.heapify_ = function () {\n        var i;\n        for (i = (this.elements_.length >> 1) - 1; i >= 0; i--) {\n            this.siftUp_(i);\n        }\n    };\n    /**\n     * @return {boolean} Is empty.\n     */\n    PriorityQueue.prototype.isEmpty = function () {\n        return this.elements_.length === 0;\n    };\n    /**\n     * @param {string} key Key.\n     * @return {boolean} Is key queued.\n     */\n    PriorityQueue.prototype.isKeyQueued = function (key) {\n        return key in this.queuedElements_;\n    };\n    /**\n     * @param {T} element Element.\n     * @return {boolean} Is queued.\n     */\n    PriorityQueue.prototype.isQueued = function (element) {\n        return this.isKeyQueued(this.keyFunction_(element));\n    };\n    /**\n     * @param {number} index The index of the node to move down.\n     * @private\n     */\n    PriorityQueue.prototype.siftUp_ = function (index) {\n        var elements = this.elements_;\n        var priorities = this.priorities_;\n        var count = elements.length;\n        var element = elements[index];\n        var priority = priorities[index];\n        var startIndex = index;\n        while (index < count >> 1) {\n            var lIndex = this.getLeftChildIndex_(index);\n            var rIndex = this.getRightChildIndex_(index);\n            var smallerChildIndex = rIndex < count && priorities[rIndex] < priorities[lIndex]\n                ? rIndex\n                : lIndex;\n            elements[index] = elements[smallerChildIndex];\n            priorities[index] = priorities[smallerChildIndex];\n            index = smallerChildIndex;\n        }\n        elements[index] = element;\n        priorities[index] = priority;\n        this.siftDown_(startIndex, index);\n    };\n    /**\n     * @param {number} startIndex The index of the root.\n     * @param {number} index The index of the node to move up.\n     * @private\n     */\n    PriorityQueue.prototype.siftDown_ = function (startIndex, index) {\n        var elements = this.elements_;\n        var priorities = this.priorities_;\n        var element = elements[index];\n        var priority = priorities[index];\n        while (index > startIndex) {\n            var parentIndex = this.getParentIndex_(index);\n            if (priorities[parentIndex] > priority) {\n                elements[index] = elements[parentIndex];\n                priorities[index] = priorities[parentIndex];\n                index = parentIndex;\n            }\n            else {\n                break;\n            }\n        }\n        elements[index] = element;\n        priorities[index] = priority;\n    };\n    /**\n     * FIXME empty description for jsdoc\n     */\n    PriorityQueue.prototype.reprioritize = function () {\n        var priorityFunction = this.priorityFunction_;\n        var elements = this.elements_;\n        var priorities = this.priorities_;\n        var index = 0;\n        var n = elements.length;\n        var element, i, priority;\n        for (i = 0; i < n; ++i) {\n            element = elements[i];\n            priority = priorityFunction(element);\n            if (priority == DROP) {\n                delete this.queuedElements_[this.keyFunction_(element)];\n            }\n            else {\n                priorities[index] = priority;\n                elements[index++] = element;\n            }\n        }\n        elements.length = index;\n        priorities.length = index;\n        this.heapify_();\n    };\n    return PriorityQueue;\n}());\nexport default PriorityQueue;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}